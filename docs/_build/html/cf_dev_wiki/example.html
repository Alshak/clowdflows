

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Creating a widget - step by step &mdash; ClowdFlows documentation 1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ClowdFlows documentation 1 documentation" href="../index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> ClowdFlows documentation
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../user_doc_bycategory.html">ClowdFlows user documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user_doc_bycategory.html#category-big-data">Category Big data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-classification">Category Classification</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-naive-bayes">Widget: Naive Bayes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-gaussian-naive-bayes-predict">Widget: Gaussian Naive Bayes predict</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-linear-svm">Widget: Linear SVM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-linear-proximal-svm-predict">Widget: Linear proximal SVM predict</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-logistic-regression">Widget: Logistic regression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-logistic-regression-predict">Widget: Logistic regression predict</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-multinomial-naive-bayes-fit">Widget: Multinomial Naive Bayes fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-multinomial-naive-bayes-predict">Widget: Multinomial Naive Bayes predict</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-ensembles">Category Ensembles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-distributed-random-forest">Widget: Distributed Random Forest</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-distributed-weighted-forest">Widget: Distributed Weighted Forest</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-forest-of-distributed-decision-trees">Widget: Forest of Distributed Decision Trees</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-clustering">Category Clustering</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-k-means">Widget: k-means</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-k-means-predict">Widget: k-Means predict</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-regression">Category Regression</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-linear-regression">Widget: Linear regression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-linear-regression-predict">Widget: Linear regression predict</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-locally-weighted-regression">Widget: Locally weighted regression</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-evaluation">Category Evaluation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-apply-classifier">Widget: Apply Classifier</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-classification-accuracy">Widget: Classification Accuracy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-mean-squared-error">Widget: Mean squared error</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-utilities">Category Utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-model-view">Widget: Model View</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-class-distribution">Widget: Class distribution</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-input-dataset">Widget: Input Dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-results-view">Widget: Results View</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_doc_bycategory.html#category-bio3graph">Category Bio3graph</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-graph-operations">Category Graph operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-biomine-graph-visualizer">Widget: Biomine graph visualizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-colour-relations">Widget: Colour relations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-construct-triplet-network">Widget: Construct triplet network</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-find-transitive-relations">Widget: Find transitive relations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-incremental-merge-of-networks">Widget: Incremental merge of networks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-remove-relations">Widget: Remove relations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-reset-colours">Widget: Reset colours</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-transform-biomine-to-networkx">Widget: Transform Biomine to NetworkX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-transform-networkx-to-biomine">Widget: Transform NetworkX to Biomine</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-transcriptomic-analysis-utilities">Category Transcriptomic analysis utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-construct-compounds-csv-file-from-gene-synonyms">Widget: Construct compounds csv file from gene synonyms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-get-gene-synonyms-from-gpsdb">Widget: Get gene synonyms from GPSDB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-map-entrez-id-to-ncbi-symbol">Widget: Map Entrez ID to NCBI symbol</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-triplet-extraction">Category Triplet extraction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-build-default-vocabulary">Widget: Build default vocabulary</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-export-triplets-to-text">Widget: Export triplets to text</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-build-default-vocabulary-with-custom-compounds">Widget: Build default vocabulary with custom compounds</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-build-vocabulary">Widget: Build vocabulary</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-create-document-from-file">Widget: Create document from file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-create-document-from-string">Widget: Create document from string</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-extract-triplets">Widget: Extract triplets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-normalise-triplets">Widget: Normalise triplets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-parse-sentences">Widget: Parse sentences</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-split-sentences">Widget: Split sentences</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-pmc-utilities">Category PMC utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-filter-non-oa-pmc-publications">Widget: Filter non-OA PMC publications</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-get-xml-of-pmc-article">Widget: Get XML of PMC article</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-get-fulltext-of-pmc-article">Widget: Get fulltext of PMC article</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-xml-to-fulltext">Widget: XML to Fulltext</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-mesh-filter">Widget: Mesh filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-search-pubmed-central">Widget: Search PubMed Central</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_doc_bycategory.html#category-decision-support">Category Decision Support</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-decision-support-charts">Widget: Decision support charts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-sensitivity-analysis">Widget: Sensitivity analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-weighted-sum-model">Widget: Weighted Sum Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_doc_bycategory.html#category-files">Category Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-file-to-string">Widget: File to string</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-load-big-file">Widget: Load big file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-load-file">Widget: Load file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-load-file-to-string">Widget: Load file to string</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-string-to-file">Widget: String to file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_doc_bycategory.html#category-hbp">Category HBP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-interactive-analysis">Widget: Interactive analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-search-criteria">Widget: Search criteria</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-submit-search-criteria">Widget: Submit search criteria</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_doc_bycategory.html#category-ilp">Category ILP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-aleph">Widget: Aleph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-rsd">Widget: RSD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-sdm-aleph">Widget: SDM-Aleph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-sdm-segs">Widget: SDM-SEGS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-sdm-segs-rule-viewer">Widget: SDM-SEGS Rule Viewer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-treeliker">Widget: TreeLiker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-wordification">Widget: Wordification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_doc_bycategory.html#category-integers">Category Integers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-add-integers">Widget: Add integers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-add-multiple-integers">Widget: Add multiple integers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-create-integer">Widget: Create Integer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-filter-integers">Widget: Filter integers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-multiply-integers">Widget: Multiply integers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-subtract-integers">Widget: Subtract integers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_doc_bycategory.html#category-muse">Category MUSE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-3d-virtual-environment">Category 3D virtual environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-tuk-the-hunter-3d-demonstrator">Widget: Tuk the Hunter 3D demonstrator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-tuk-the-hunter-3d-demonstrator-local">Widget: Tuk the Hunter 3D demonstrator (local)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-virtual-environment-visualization">Widget: Virtual environment visualization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-nlp-components">Category NLP components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-event-extraction">Widget: Event extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-mapping-to-knowledge-representation">Widget: Mapping to Knowledge representation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#id22">Widget: Mapping to Knowledge representation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-mapping-to-knowledge-representation-latest">Widget: Mapping to Knowledge representation (latest)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-mapping-to-knowledge-representation-precomputed-latest">Widget: Mapping to Knowledge representation (precomputed, latest)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-mapping-to-knowledge-representation-precomputed">Widget: Mapping to Knowledge representation (precomputed)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-mapping-to-knowledge-representation-tuk-precomputed">Widget: Mapping to Knowledge representation (Tuk, precomputed)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-mapping-to-kr-golden-standard">Widget: Mapping to KR golden standard</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-semantic-role-labeling">Widget: Semantic role labeling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-semantic-role-labeling-tuk-specific">Widget: Semantic role labeling (Tuk specific)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-syntactic-and-semantic-processing">Widget: Syntactic and semantic processing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#id27">Category Utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-string-to-statically-hosted-file">Widget: String to statically hosted file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-view-xml">Widget: View XML</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_doc_bycategory.html#category-muse-v3">Category MUSE_v3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#id30">Category 3D virtual environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#id31">Widget: Tuk the Hunter 3D demonstrator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#id32">Widget: Tuk the Hunter 3D demonstrator (local)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#id33">Category NLP components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-coreference-resolution">Widget: Coreference resolution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-direct-speech-detection">Widget: Direct speech detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-event-and-temporal-relation-detection">Widget: Event and temporal relation detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#id36">Widget: Mapping to Knowledge representation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#id38">Widget: Mapping to Knowledge representation (precomputed)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-prepare-input-for-kr-mapping">Widget: Prepare input for KR mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-preprocessing">Widget: Preprocessing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-semantic-role-labelling">Widget: Semantic role labelling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-srl-pronoun-resolution">Widget: SRL pronoun resolution</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-nlp-components-pg">Category NLP components (PG)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-g-dee-text">Widget: G-DEE (text)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-g-dee-url">Widget: G-DEE (url)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-pg-coreference-resolution">Widget: PG coreference resolution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-pg-event-and-temporal-relation-detection">Widget: PG event and temporal relation detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-pg-mapping">Widget: PG mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-pg-preprocessing">Widget: PG preprocessing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-pg-semantic-role-labelling">Widget: PG semantic role labelling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#id48">Category Utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#id49">Widget: String to statically hosted file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#id51">Widget: View XML</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_doc_bycategory.html#category-mysql">Category MySQL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-domain-mapping">Category Domain mapping</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-map-examples-to-domain-aleph-features">Widget: Map examples to domain (Aleph features)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-map-examples-to-domain-rsd">Widget: Map examples to domain (RSD)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-map-examples-to-domain-treeliker">Widget: Map examples to domain (TreeLiker)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-database-context">Widget: Database Context</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-database-to-aleph">Widget: Database To Aleph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-database-to-orange-table">Widget: Database To Orange Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-database-to-rsd">Widget: Database To RSD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-database-to-treeliker">Widget: Database To TreeLiker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-mysql-connect">Widget: MySQL Connect</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_doc_bycategory.html#category-nlp">Category NLP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-definition-extraction">Category Definition extraction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-definition-extraction-by-patterns">Widget: Definition extraction by patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-definition-extraction-by-patterns2">Widget: Definition extraction by patterns2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-definition-extraction-by-terms">Widget: Definition extraction by terms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-definition-extraction-by-terms2">Widget: Definition extraction by terms2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-definition-extraction-by-wordnet">Widget: Definition extraction by wordnet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-definition-extraction-by-wordnet2">Widget: Definition extraction by wordnet2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-merge-sentences">Widget: Merge sentences</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#id60">Widget: Merge sentences</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-merge-sentences2">Widget: Merge sentences2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-sentence-viewer">Widget: Sentence viewer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-sentence-viewer2">Widget: Sentence viewer2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-load-corpus">Widget: Load corpus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-load-corpus2">Widget: Load corpus2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-load-tagged-corpus">Widget: Load tagged corpus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-term-candidates-viewer">Widget: Term candidates viewer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-term-extraction">Widget: Term extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-term-extraction2">Widget: Term extraction2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-totrtale">Widget: ToTrTaLe</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-totrtale2">Widget: ToTrTaLe2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_doc_bycategory.html#category-noise-handling">Category Noise Handling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-noise-filters">Category Noise Filters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-classification-filter">Widget: Classification Filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-matrix-factorization-filter">Widget: Matrix Factorization Filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-saturation-filter">Widget: Saturation Filter</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-harf">Widget: HARF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-noiserank">Widget: NoiseRank</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_doc_bycategory.html#category-objects">Category Objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-concatenate-lists">Widget: Concatenate lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-create-dictionary">Widget: Create Dictionary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-create-list">Widget: Create List</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-create-tuple">Widget: Create Tuple</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-evaluate-string">Widget: Evaluate string</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-extract-results">Widget: Extract results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-javascript-snippet">Widget: Javascript Snippet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-list-average">Widget: List average</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-merge-dictionaries">Widget: Merge dictionaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-ravel-list">Widget: Ravel list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-unzip-list">Widget: Unzip list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-create-range">Widget: Create Range</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-delay">Widget: Delay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-ensemble">Widget: Ensemble</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-object-viewer">Widget: Object viewer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-pickle-object">Widget: Pickle object</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-unpickle-object">Widget: Unpickle object</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#widget-stopwatch">Widget: Stopwatch</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_doc_bycategory.html#category-orange">Category Orange</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-classification-and-regression">Category Classification and Regression</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-c4-5-tree-learner">Widget: C4.5 Tree Learner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-cn2-rule-learner">Widget: CN2 Rule Learner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-classification-tree">Widget: Classification Tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#id71">Widget: Logistic Regression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-lookup-learner">Widget: Lookup Learner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-majority-learner">Widget: Majority Learner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#id72">Widget: Naive Bayes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-random-forest">Widget: Random Forest</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-rule-induction">Widget: Rule Induction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-support-vector-machine">Widget: Support Vector Machine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-support-vector-machine-easy">Widget: Support Vector Machine Easy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-k-nearest-neighbours">Widget: k-Nearest Neighbours</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-segmine">Category SegMine</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-biomine-connection-search">Widget: Biomine connection search</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-biomine-medoid-search">Widget: Biomine medoid search</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-biomine-neighbourhood-search">Widget: Biomine neighbourhood search</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-biomine-search-plants">Widget: Biomine search (plants)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-biomine-visualizer">Widget: Biomine visualizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-biomine-visualizer-js">Widget: Biomine visualizer (js)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-cutoff-logfc">Widget: Cutoff (logFC)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-filter-unknown-ath-genes">Widget: Filter unknown ATH genes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-filter-unknown-stu-genes">Widget: Filter unknown STU genes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-fold-change-gene-filter">Widget: Fold change gene filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-gene-ranker">Widget: Gene Ranker</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-hierarchical-clustering">Widget: Hierarchical clustering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-map-mirna-to-gene-tarbase">Widget: Map miRNA to gene (tarbase)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-map-mirna-to-gene-targetscan">Widget: Map miRNA to gene (targetscan)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-rank-plotter">Widget: Rank plotter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-read-microarray-data-from-file">Widget: Read microarray data from file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-resolve-gene-synonyms">Widget: Resolve gene synonyms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-resolve-stu-gene-names">Widget: Resolve STU gene names</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-segs">Widget: SEGS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-segs-ath">Widget: SEGS ATH</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-segs-rule-browser">Widget: SEGS Rule browser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-segs-rules-as-orange-table">Widget: SEGS rules as Orange table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-segs-stu">Widget: SEGS STU</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-select-biomine-database">Widget: Select Biomine database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-select-hierarchical-cluster">Widget: Select hierarchical cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-t-test-gene-filter">Widget: T-test gene filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-union-and-intersection-of-attributes-for-segmine-rule-table">Widget: Union and intersection of attributes for SegMine rule table</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-subgroup-discovery">Category Subgroup discovery</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-build-subgroups">Widget: Build subgroups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-relsets">Widget: RelSets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-query-data-with-subgroups">Widget: Query data with subgroups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-select-subgroups">Widget: Select subgroups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-subgroup-measures">Widget: Subgroup measures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-subgroup-roc-visualization">Widget: Subgroup ROC visualization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-subgroup-bar-visualization">Widget: Subgroup bar visualization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#category-unsupervised">Category Unsupervised</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-attribute-distance">Widget: Attribute distance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#widget-example-distance">Widget: Example Distance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#id88">Widget: Hierarchical clustering</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../user_doc_bycategory.html#id89">Category Evaluation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../user_doc_bycategory.html#category-classification-statistics">Category Classification Statistics</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dev-doc-home.html">ClowdFlows developer documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dev-doc-home.html#basics">Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="dev-doc-home.html#advanced">Advanced</a></li>
<li class="toctree-l2"><a class="reference internal" href="dev-doc-home.html#widget-packages-docs">Widget packages docs</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">ClowdFlows documentation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Creating a widget - step by step</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/cf_dev_wiki/example.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="creating-a-widget-step-by-step">
<h1>Creating a widget - step by step<a class="headerlink" href="#creating-a-widget-step-by-step" title="Permalink to this headline">¶</a></h1>
<div class="section" id="about-the-example-rest-web-service-wrapper">
<h2>About the example: REST Web service wrapper<a class="headerlink" href="#about-the-example-rest-web-service-wrapper" title="Permalink to this headline">¶</a></h2>
<p>Here, we will wrap an existing piece of code into a ClowdFlows widget
step by step. The exemplary piece of code is a call to a REST Web
service, but it could be any other similar call. Namely, ClowdFlows
enables easy inclusion of WSDL Web services right in the user&#8217;s
interface, but this does not work for the REST ones (yet).</p>
<p>We prepared a simple REST Web service for this example, which calculates
a sentiment score of a sentence. It is called like this:</p>
<p><a class="reference external" href="http://kt.ijs.si/MartinZnidarsic/webservices/sentana/sentana.php?sentence=What+a+lovely+day">http://kt.ijs.si/MartinZnidarsic/webservices/sentana/sentana.php?sentence=What+a+lovely+day</a></p>
<p>and returns a JSON response of such a kind:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&quot;status&quot;</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="s">&quot;status_message&quot;</span><span class="p">:</span><span class="s">&quot;OK&quot;</span><span class="p">,</span><span class="s">&quot;data&quot;</span><span class="p">:{</span><span class="s">&quot;num_positive_words&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;num_negative_words&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&quot;sentimentscore&quot;</span><span class="p">:</span><span class="mf">0.25</span><span class="p">,</span><span class="s">&quot;lex_pos_length&quot;</span><span class="p">:</span><span class="mi">2006</span><span class="p">,</span><span class="s">&quot;lex_neg_length&quot;</span><span class="p">:</span><span class="mi">4783</span><span class="p">}}</span>
</pre></div>
</div>
<p>What we are interested in, is the sentimentscore value.</p>
<p>Since ClowdFlows is written in Python, we must wrap a call to this Web
service in a piece of Python code. A standalone piece of code for this
purpose could look like this:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">urllib2</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">somesentence</span> <span class="o">=</span> <span class="s">&quot;The good the bad and the ugly&quot;</span>
<span class="n">somesentence</span> <span class="o">=</span> <span class="n">somesentence</span><span class="o">.</span><span class="n">replace</span> <span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;+&quot;</span><span class="p">)</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&#39;http://kt.ijs.si/MartinZnidarsic/webservices/sentana/sentana.php?sentence=&#39;</span> <span class="o">+</span> <span class="n">somesentence</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">jsondata</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Sentiment score is: &quot;</span> <span class="o">+</span>  <span class="nb">str</span><span class="p">(</span> <span class="n">jsondata</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">][</span><span class="s">&#39;sentimentscore&#39;</span><span class="p">]</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-the-widget">
<h2>Creating the widget<a class="headerlink" href="#creating-the-widget" title="Permalink to this headline">¶</a></h2>
<div class="section" id="step-1-enter-the-attributes">
<h3>Step 1 : Enter the attributes<a class="headerlink" href="#step-1-enter-the-attributes" title="Permalink to this headline">¶</a></h3>
<p>In order to create a widget, we should follow the instructions on
creating an abstract widget:
<a class="reference external" href="http://source.ijs.si/concrete/mothra/wikis/widget">http://source.ijs.si/concrete/mothra/wikis/widget</a> In our case, we did
the following on the web page where the widget information is to be
entered ( <a class="reference external" href="http://127.0.0.1:8000/admin/workflows/abstractwidget/add/">http://127.0.0.1:8000/admin/workflows/abstractwidget/add/</a> ):
* in the Name category we entered <code class="docutils literal"><span class="pre">Sentana</span></code> * as Action, we set
<code class="docutils literal"><span class="pre">call_sentana</span></code> * we have left the Wsdl and the Wsdl method empty *
in Description we gave a short description of the widget and what kind
of inputs it expects * for Category, we selected <code class="docutils literal"><span class="pre">Creativity</span></code> as we
want it to be shown under Creativity in the widget menu * we left then
all the rest of the form empty down to the Package, where we set it to
the existing package <code class="docutils literal"><span class="pre">creativity</span></code> * as a last step here, we defined
the inputs and outputs ** there was one input defined with ***
<code class="docutils literal"><span class="pre">text</span></code> as its Name *** <code class="docutils literal"><span class="pre">txt</span></code> as its Short name *** and
<code class="docutils literal"><span class="pre">inp1</span></code> as the Variable for that input ** and one output defined with
*** <code class="docutils literal"><span class="pre">sentiment</span> <span class="pre">score</span></code> as its Name *** <code class="docutils literal"><span class="pre">ses</span></code> as its Short name
*** and <code class="docutils literal"><span class="pre">out1</span></code> as the Variable for that output</p>
<p>We must press the Save button in order to save the information about the
widget. We can then leave the web page.</p>
</div>
<div class="section" id="step-2-implement-the-action">
<h3>Step 2 : Implement the action<a class="headerlink" href="#step-2-implement-the-action" title="Permalink to this headline">¶</a></h3>
<p>Following the instructions, we create a function named <code class="docutils literal"><span class="pre">call_sentana</span></code>
(because this name was entered as Action in Step 1). This function has
to be added in the library.py file of the widget&#8217;s package. Since in our
case, the widget&#8217;s package is <code class="docutils literal"><span class="pre">creativity</span></code>, we have added it to
.../mothra/workflows/creativity/library.py</p>
<p>The action must receive the input_dict and return an output_dict,
which are both Python dictionaries. The simplest action function (just
copying the input to the output), as shown in the instructions, would
be:</p>
<div class="code Python highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">my_package_action</span><span class="p">(</span><span class="n">input_dict</span><span class="p">):</span>
    <span class="n">output_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">output_dict</span><span class="p">[</span><span class="s">&#39;out1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">input_dict</span><span class="p">[</span><span class="s">&#39;inp1&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">output_dict</span>
</pre></div>
</div>
<p>but we would like it to make the Sentana Web service call (similar as in
the example description), so we define it as:</p>
<div class="code Python highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">call_sentana</span><span class="p">(</span><span class="n">input_dict</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">urllib2</span>
    <span class="kn">import</span> <span class="nn">json</span>
    <span class="n">somesentence</span> <span class="o">=</span> <span class="n">input_dict</span><span class="p">[</span><span class="s">&#39;inp1&#39;</span><span class="p">]</span>  <span class="c"># our only input is in input_dict[&#39;inp1&#39;] , notice the Variable name &#39;inp1&#39;</span>
    <span class="n">somesentence</span> <span class="o">=</span> <span class="n">somesentence</span><span class="o">.</span><span class="n">replace</span> <span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;+&quot;</span><span class="p">)</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;http://kt.ijs.si/MartinZnidarsic/webservices/sentana/sentana.php?sentence=&#39;</span> <span class="o">+</span> <span class="n">somesentence</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">jsondata</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">jsondata</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">][</span><span class="s">&#39;sentimentscore&#39;</span><span class="p">]</span>
    <span class="n">output_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">output_dict</span><span class="p">[</span><span class="s">&#39;out1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>  <span class="c"># result is put in the only output denoted with output_dict[&#39;out1&#39;]</span>
    <span class="k">return</span> <span class="n">output_dict</span>
</pre></div>
</div>
<p>In such a function we could instead of a Web service call put a call to
something else just as easily.</p>
</div>
</div>
<div class="section" id="step-3-exporting-your-widget-to-the-package-data-file">
<h2>Step 3 : Exporting your widget to the package data file<a class="headerlink" href="#step-3-exporting-your-widget-to-the-package-data-file" title="Permalink to this headline">¶</a></h2>
<p>When you have added or modified an abstract widget on that admin web
page, you made changes only to the local database. You must now also
export it to a package data file. In the instructions, the general
command given for this is</p>
<div class="code bash highlight-python"><div class="highlight"><pre>python manage.py export_package $your_package_name$
</pre></div>
</div>
<p>in our case this is</p>
<div class="code bash highlight-python"><div class="highlight"><pre>python manage.py export_package $your_package_name$
</pre></div>
</div>
<div class="section" id="step-4-check-it-out-and-make-it-available">
<h3>Step 4 : Check it out and make it available<a class="headerlink" href="#step-4-check-it-out-and-make-it-available" title="Permalink to this headline">¶</a></h3>
<p>The widget should now appear in the widget menu of your locally served
ClowdFlows platform. Check it out, make a few test runs, use it and have
fun.</p>
<p>When you are ready to make your widget available to others, push it to
the ConCreTe ClowdFlows git repository: * first make a fresh pull:
<code class="docutils literal"><span class="pre">git</span> <span class="pre">pull</span> <span class="pre">git&#64;source.ijs.si:concrete/mothra.git</span></code> * if you receive
anything new, always run: <code class="docutils literal"><span class="pre">python</span> <span class="pre">manage.py</span> <span class="pre">auto_import_packages</span></code>
(beware: this will run over your locally changed widgets, if you did not
export them yet as instructed in Step 3) * add the changed files (the
library.py and any others) to be committed, e.g.:
<code class="docutils literal"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">workflows/creativity/library.py</span></code> * commit, e.g.:
<code class="docutils literal"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">workflows/creativity/library.py</span></code> * push it from the local
repository to the ConCreTe one: <code class="docutils literal"><span class="pre">git</span> <span class="pre">push</span></code></p>
<p>That&#8217;s it.</p>
</div>
</div>
</div>


          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, ClowdFlows Team.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>